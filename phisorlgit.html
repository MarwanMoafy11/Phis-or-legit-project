<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Phish or Legit? â€” Advanced Trainer</title>
  <style>
    body{font-family: Arial, "Noto Naskh Arabic", sans-serif;direction:rtl;padding:24px;background:#f5f7fb}
    .card{background:#fff;border-radius:10px;padding:18px;margin:12px 0;box-shadow:0 6px 18px rgba(20,30,60,0.08)}
    h1{margin:0 0 12px;font-size:24px}
    .meta{color:#666;font-size:14px;margin-bottom:10px}
    .email-body{white-space:pre-wrap;background:#fbfdff;padding:12px;border-radius:8px;border:1px solid #eef4ff}
    .buttons{display:flex;gap:10px;margin-top:12px}
    button{padding:10px 16px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    .phish{background:#ff6b6b;color:white}
    .legit{background:#4caf50;color:white}
    .explain{margin-top:12px;color:#222;background:#fffef8;padding:10px;border-radius:8px;border:1px dashed #f2dca6}
    .score{float:left;background:#1e88e5;color:#fff;padding:8px 12px;border-radius:20px;font-weight:700}
    .indicator{margin-top:8px;font-size:13px;color:#444}
    .tag{display:inline-block;padding:4px 8px;border-radius:999px;background:#eef5ff;margin-left:6px;font-size:12px}
    .timer{float:right;background:#f57c00;color:#fff;padding:8px 12px;border-radius:20px;font-weight:700}
  </style>
</head>
<body>
  <div class="card">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <div>
        <h1>Phish or Legit? â€” Advanced Trainer</h1>
        <div class="meta">Ø§Ø®ØªØ¨Ø± Ù…Ù‡Ø§Ø±ØªÙƒ ÙÙŠ ÙƒØ´Ù Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØµÙŠÙ‘Ø¯! Ø£Ù…Ø§Ù…Ùƒ 20 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø±Ø³Ø§Ù„Ø©.</div>
      </div>
      <div>
        <span class="timer" id="timer">20s</span>
        <span class="score" id="score">Score: 0</span>
      </div>
    </div>

    <div id="emailArea" class="card" style="margin-top:10px">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div><strong id="sender">From:</strong> <span class="tag" id="senderTag"></span></div>
          <div class="meta" id="subject">Subject:</div>
        </div>
        <div style="text-align:left;font-size:12px;color:#666" id="counter"></div>
      </div>
      <hr />
      <div class="email-body" id="body"></div>
      <div class="indicator" id="indicators">Indicators: <span id="indList"></span></div>

      <div class="buttons">
        <button class="phish" onclick="answer(true)">Phish</button>
        <button class="legit" onclick="answer(false)">Legit</button>
        <button style="background:#eee;border-radius:8px;padding:10px 12px;margin-left:auto" onclick="nextEmail()">Next Email</button>
      </div>

      <div id="explain" class="explain" style="display:none"></div>
    </div>

    <div style="margin-top:14px;color:#444;font-size:14px">
      Ù†ØµÙŠØ­Ø©: Ù„Ø§ ØªØ«Ù‚ ÙÙŠ Ø£ÙŠ Ø±Ø§Ø¨Ø· Ø£Ùˆ Ù…Ù„Ù Ù…Ø±ÙÙ‚ Ø¥Ù„Ø§ Ù„Ùˆ ÙƒÙ†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…Ø±Ø³Ù„. ÙØ­Øµ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¯Ø§Ø¦Ù…Ø§Ù‹!
    </div>
  </div>

<script>
const dataset = [
  {
    sender: "billing@paypal-secure.com",
    subject: "Important: Update your account information",
    body: "We noticed unusual activity on your account. Verify now: http://paypal.verify-login.example.com",
    tags: ["fake domain","urgency"],
    isPhish: true,
    explain: "Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø´ Ø¯ÙˆÙ…ÙŠÙ† Paypal Ø§Ù„Ø±Ø³Ù…ÙŠ ÙˆØ¨ÙŠØ­Ø§ÙˆÙ„ ÙŠØ¹Ù…Ù„ Ø§Ø³ØªØ¹Ø¬Ø§Ù„."
  },
  {
    sender: "support@appleid.com",
    subject: "Your Apple ID has been locked",
    body: "We detected login attempts from China. Unlock now: https://appleid.apple.com/reset",
    tags: ["official link","security notice"],
    isPhish: false,
    explain: "Ø§Ù„Ø±Ø§Ø¨Ø· ØªØ§Ø¨Ø¹ Ù„Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠ apple.com ÙˆÙ„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø´Ø§Ø±Ø§Øª ØªØµÙŠÙ‘Ø¯."
  },
  {
    sender: "it-department@company-secure-login.net",
    subject: "Password reset required immediately",
    body: "To keep your access, reset your password here: http://company-secure-login.net/reset",
    tags: ["external link","urgency"],
    isPhish: true,
    explain: "Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø´ Ø¯ÙˆÙ…ÙŠÙ† Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ â€” Ø¯ÙˆÙ…ÙŠÙ† Ø®Ø§Ø±Ø¬ÙŠ Ù…Ø´Ø¨ÙˆÙ‡."
  },
  {
    sender: "noreply@dropboxmail.com",
    subject: "Someone shared a file with you",
    body: "John shared 'ProjectPlan.pdf' with you: https://www.dropbox.com/s/xyz123",
    tags: ["legit link","shared file"],
    isPhish: false,
    explain: "Ø¯ÙˆÙ…ÙŠÙ† dropbox.com Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆÙ…Ø¶Ù…ÙˆÙ†."
  },
  {
    sender: "admin@university-secure.edu",
    subject: "Campus security update",
    body: "Please log in to confirm your account before Monday: http://university-secure.edu-login.net",
    tags: ["domain mismatch","deadline"],
    isPhish: true,
    explain: "Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ† ÙÙŠÙ‡ hyphen ÙˆÙ…Ø´ ØªØ§Ø¨Ø¹ Ù„Ù„Ù…Ø¬Ø§Ù„ .edu Ø§Ù„Ø£ØµÙ„ÙŠ."
  },
  {
    sender: "support@amazon.com",
    subject: "Unusual login detected",
    body: "We noticed a login from a new device. If it wasn't you, secure your account at https://www.amazon.com/ap/signin",
    tags: ["legit domain","security alert"],
    isPhish: false,
    explain: "Ø§Ù„Ø±Ø§Ø¨Ø· amazon.com Ø±Ø³Ù…ÙŠ ÙˆÙ…Ø¶Ù…ÙˆÙ†."
  },
  {
    sender: "info@micros0ft-support.com",
    subject: "Windows license expired",
    body: "Reactivate now: http://micros0ft-support.com/verify",
    tags: ["fake domain","0 instead of o"],
    isPhish: true,
    explain: "Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø­Ø±Ù o Ø¨Ù€ 0 ÙÙŠ micros0ft â€” Ø®Ø¯Ø¹Ø© Ø´Ø§Ø¦Ø¹Ø©."
  },
  {
    sender: "charity@help-kids.org",
    subject: "Urgent donation needed",
    body: "Donate here: http://helpkids-donate.example.org",
    tags: ["emotional manipulation","unverified link"],
    isPhish: true,
    explain: "Ø§Ø³ØªØºÙ„Ø§Ù„ Ø¹Ø§Ø·ÙÙŠ + Ø¯ÙˆÙ…ÙŠÙ† ØºÙŠØ± Ù…ÙˆØ«ÙˆÙ‚."
  },
  {
    sender: "newsletter@github.com",
    subject: "Weekly developer digest",
    body: "Hereâ€™s whatâ€™s new this week on GitHub.",
    tags: ["newsletter","official sender"],
    isPhish: false,
    explain: "Ù…Ø±Ø³Ù„ Ø±Ø³Ù…ÙŠ Ù…Ù† github.comØŒ Ù„Ø§ Ø±ÙˆØ§Ø¨Ø· ØºØ±ÙŠØ¨Ø©."
  },
  {
    sender: "finance@company.com",
    subject: "Payment confirmation - Invoice #4571",
    body: "Attached is your payment receipt for review.",
    tags: ["attachment","finance"],
    isPhish: true,
    explain: "Ù…Ø±ÙÙ‚ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ Ù…Ù† Ø¬Ù‡Ø© Ù…Ø§Ù„ÙŠØ© â€” Ø§Ø­ØªÙ…Ø§Ù„ ØªØµÙŠÙ‘Ø¯."
  }
];

let idx = 0;
let score = 0;
let timer = 20;
let timerInterval;

function startTimer(){
  clearInterval(timerInterval);
  timer = 20;
  document.getElementById('timer').innerText = timer + "s";
  timerInterval = setInterval(()=>{
    timer--;
    document.getElementById('timer').innerText = timer + "s";
    if(timer <= 0){
      clearInterval(timerInterval);
      document.getElementById('explain').style.display = 'block';
      document.getElementById('explain').innerHTML = "â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! ØªÙ… Ø§Ø¹ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©.";
      score -= 5; if(score<0) score=0;
      document.getElementById('score').innerText = 'Score: ' + score;
    }
  },1000);
}

function render(i){
  const e = dataset[i];
  document.getElementById('sender').innerText = "From: " + e.sender;
  document.getElementById('subject').innerText = "Subject: " + e.subject;
  document.getElementById('body').innerText = e.body;
  document.getElementById('indList').innerText = e.tags.join(', ');
  document.getElementById('senderTag').innerText = (e.isPhish ? 'Ù…Ø´ØªØ¨Ù‡' : 'Ù…Ø£Ù…ÙˆÙ†');
  document.getElementById('explain').style.display = 'none';
  document.getElementById('score').innerText = 'Score: ' + score;
  document.getElementById('counter').innerText = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${i + 1} Ù…Ù† ${dataset.length}`;
  startTimer();
}

function answer(chosenPhish){
  clearInterval(timerInterval);
  const e = dataset[idx];
  const correct = (e.isPhish === chosenPhish);
  if(correct){ score += 10; }
  else { score -= 5; if(score<0) score=0; }
  document.getElementById('explain').style.display = 'block';
  document.getElementById('explain').innerHTML = (correct? "âœ… ØµØ­ÙŠØ­! ":"âŒ ØºÙ„Ø·. ") + e.explain;
  document.getElementById('score').innerText = 'Score: ' + score;
}

function nextEmail(){
  clearInterval(timerInterval);
  idx++;
  if(idx >= dataset.length){
    document.getElementById('emailArea').innerHTML = `
      <h2>ğŸ‰ Ø§Ù†ØªÙ‡ÙŠØª!</h2>
      <p>Ù„Ù‚Ø¯ Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ ÙƒÙ„ ${dataset.length} Ø§Ù„Ø±Ø³Ø§Ø¦Ù„.</p>
      <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: <span style="color:#1e88e5">${score}</span></h3>
      <button style="padding:10px 16px;border-radius:8px;background:#4caf50;color:white;font-weight:bold" onclick="restart()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</button>
    `;
  } else {
    render(idx);
  }
}

function restart(){
  score = 0;
  idx = 0;
  render(idx);
}

render(idx);
</script>
</body>
</html>
